<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Cloth Billing App</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/themes.css">
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="container">
            <div class="navbar-brand">
                <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true">
                    <rect width="32" height="32" fill="currentColor" opacity="0.1" rx="4"/>
                    <path d="M8 12h16v2H8zm0 4h16v2H8zm0 4h12v2H8z" fill="currentColor"/>
                </svg>
                <span class="brand-text">Cloth Billing</span>
            </div>
            <ul class="navbar-menu" role="menubar">
                <li role="none"><a href="index.html" class="nav-link" role="menuitem">Home</a></li>
                <li role="none"><a href="dashboard.html" class="nav-link" role="menuitem">Dashboard</a></li>
                <li role="none"><a href="create-invoice.html" class="nav-link" role="menuitem">Create Invoice</a></li>
                <li role="none"><a href="customers.html" class="nav-link" role="menuitem">Customers</a></li>
                <li role="none"><a href="products.html" class="nav-link" role="menuitem">Products</a></li>
                <li role="none"><a href="settings.html" class="nav-link active" aria-current="page" role="menuitem">Settings</a></li>
            </ul>
            <button class="btn-icon" id="theme-toggle" aria-label="Toggle theme">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
                    <circle cx="10" cy="10" r="4"/>
                    <path d="M10 2v2M10 16v2M18 10h-2M4 10H2M15.66 4.34l-1.41 1.41M5.75 14.25l-1.41 1.41M15.66 15.66l-1.41-1.41M5.75 5.75l-1.41-1.41"/>
                </svg>
            </button>
        </div>
    </nav>

    <main class="main-content">
        <div class="container">
            <header class="page-header">
                <h1>Settings</h1>
                <p class="subtitle">Configure your billing application</p>
            </header>

            <!-- Company Profile -->
            <section class="card">
                <div class="card-header">
                    <h2 class="card-title">Company Profile</h2>
                </div>
                <div class="card-body">
                    <form id="company-form">
                        <div class="form-group">
                            <label for="company-name" class="form-label required">Company Name</label>
                            <input type="text" id="company-name" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="company-address" class="form-label required">Company Address</label>
                            <textarea id="company-address" class="form-textarea" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="company-gstin" class="form-label">GSTIN</label>
                            <input type="text" id="company-gstin" class="form-input" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}">
                            <span class="form-help">Format: 33AAAAA0000A1Z5</span>
                        </div>
                        <div class="form-group">
                            <label for="company-logo" class="form-label">Company Logo</label>
                            <input type="file" id="company-logo" class="form-input" accept="image/*" onchange="handleLogoUpload(event)">
                            <span class="form-help">Recommended size: 200x200px. Logo will appear on invoices. You can crop and resize after upload.</span>
                            <div id="logo-preview" style="margin-top: 12px;"></div>
                            <div id="logo-cropper" class="logo-cropper hidden" style="margin-top: 16px;">
                                <div class="cropper-header">
                                    <h3 style="margin: 0 0 12px 0; font-size: 16px;">Crop & Resize Logo</h3>
                                </div>
                                <div class="cropper-container">
                                    <canvas id="logo-canvas" style="max-width: 100%; border: 2px solid var(--color-neutral-300); border-radius: 8px; cursor: move;"></canvas>
                                </div>
                                <div class="cropper-controls" style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
                                    <div style="flex: 1; min-width: 200px;">
                                        <label class="form-label" style="font-size: 12px;">Width (px)</label>
                                        <input type="number" id="logo-width" class="form-input" min="50" max="500" value="200" onchange="updateLogoSize()" style="width: 100px;">
                                    </div>
                                    <div style="flex: 1; min-width: 200px;">
                                        <label class="form-label" style="font-size: 12px;">Height (px)</label>
                                        <input type="number" id="logo-height" class="form-input" min="50" max="500" value="200" onchange="updateLogoSize()" style="width: 100px;">
                                    </div>
                                    <div style="flex: 1; min-width: 200px;">
                                        <label class="form-checkbox-label" style="font-size: 12px;">
                                            <input type="checkbox" id="logo-maintain-aspect" checked onchange="toggleAspectRatio()">
                                            <span>Maintain Aspect Ratio</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="cropper-actions" style="margin-top: 16px; display: flex; gap: 8px;">
                                    <button type="button" class="btn btn-primary" onclick="applyLogoCrop()">Apply Crop</button>
                                    <button type="button" class="btn btn-outline" onclick="cancelLogoCrop()">Cancel</button>
                                    <button type="button" class="btn btn-outline" onclick="resetLogoCrop()">Reset</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary" onclick="saveCompanySettings()">Save Company Settings</button>
                </div>
            </section>

            <!-- Bank Details -->
            <section class="card">
                <div class="card-header">
                    <h2 class="card-title">Bank Details</h2>
                </div>
                <div class="card-body">
                    <div id="bank-details-list">
                        <!-- Bank details will be added here -->
                    </div>
                    <div style="margin-top: var(--spacing-4);">
                        <button type="button" class="btn btn-outline" onclick="addBankDetail()">+ Add Bank Detail</button>
                    </div>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary" onclick="saveBankDetails()">Save Bank Details</button>
                </div>
            </section>

            <!-- Invoice Template Settings -->
            <section class="card">
                <div class="card-header">
                    <h2 class="card-title">Invoice Template</h2>
                </div>
                <div class="card-body">
                    <form id="template-form">
                        <div class="form-group">
                            <label for="default-template" class="form-label">Default Template</label>
                            <select id="default-template" class="form-select">
                                <option value="template-1">Template 1 - Minimal</option>
                                <option value="template-2">Template 2 - Classic</option>
                                <option value="template-3">Template 3 - Corporate</option>
                                <option value="template-4">Template 4 - Modern</option>
                                <option value="template-5">Template 5 - Compact</option>
                                <option value="template-6">Template 6 - Two Column</option>
                                <option value="template-7">Template 7 - Grid Based</option>
                                <option value="template-8">Template 8 - Receipt Style</option>
                                <option value="template-9">Template 9 - Textile Theme</option>
                                <option value="template-10">Template 10 - Monochrome</option>
                                <option value="template-11">Template 11 - Color Accent</option>
                                <option value="template-12">Template 12 - Detailed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="invoice-number-format" class="form-label">Invoice Number Format</label>
                            <select id="invoice-number-format" class="form-select">
                                <option value="INV-YYYY-###">INV-YYYY-### (e.g., INV-2024-001)</option>
                                <option value="INV-YY-###">INV-YY-### (e.g., INV-24-001)</option>
                                <option value="INV-###">INV-### (e.g., INV-001)</option>
                                <option value="INV/YYYY/###">INV/YYYY/### (e.g., INV/2024/001)</option>
                                <option value="INV-YYYY-##">INV-YYYY-## (e.g., INV-2024-01)</option>
                                <option value="###">### (e.g., 001)</option>
                            </select>
                            <span class="form-help">Format codes: YYYY = Full year, YY = 2-digit year, ### = Sequential number (3 digits), ## = Sequential number (2 digits), # = Sequential number</span>
                        </div>
                        <div class="form-group">
                            <label for="signature-image" class="form-label">Signature Image</label>
                            <input type="file" id="signature-image" class="form-input" accept="image/*" onchange="handleSignatureUpload(event)">
                            <span class="form-help">Upload signature image for invoices</span>
                            <div id="signature-preview" style="margin-top: 12px;"></div>
                        </div>
                        <div class="form-group">
                            <label class="form-checkbox-label">
                                <input type="checkbox" id="gst-default" class="form-checkbox">
                                <span>Enable GST by default for new invoices</span>
                            </label>
                        </div>
                    </form>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary" onclick="saveTemplateSettings()">Save Template Settings</button>
                </div>
            </section>

            <!-- Theme Settings -->
            <section class="card">
                <div class="card-header">
                    <h2 class="card-title">Theme</h2>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label for="theme-select" class="form-label">Color Theme</label>
                        <select id="theme-select" class="form-select" onchange="changeTheme(this.value)">
                            <option value="light">1. Light (Fabric Theme) - Default</option>
                            <option value="dark">2. Dark (Minimal Theme)</option>
                            <option value="material-blue">3. Material Blue (Material Design)</option>
                            <option value="ocean-blue">4. Ocean Blue (Tailwind Inspired)</option>
                            <option value="forest-green">5. Forest Green (Nature Theme)</option>
                            <option value="sunset-orange">6. Sunset Orange (Warm Theme)</option>
                            <option value="royal-purple">7. Royal Purple (Premium Theme)</option>
                            <option value="rose-pink">8. Rose Pink (Elegant Theme)</option>
                            <option value="slate-gray">9. Slate Gray (Professional Theme)</option>
                            <option value="emerald-green">10. Emerald Green (Fresh Theme)</option>
                            <option value="indigo-blue">11. Indigo Blue (Modern Theme)</option>
                            <option value="amber-gold">12. Amber Gold (Luxury Theme)</option>
                            <option value="teal-cyan">13. Teal Cyan (Cool Theme)</option>
                            <option value="crimson-red">14. Crimson Red (Bold Theme)</option>
                            <option value="midnight-blue">15. Midnight Blue (Deep Theme)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p class="form-help">Choose from 15 beautiful themes inspired by popular open-source design systems. Changes are saved automatically.</p>
                        <div class="theme-preview" style="margin-top: var(--spacing-4); display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: var(--spacing-3);">
                            <div class="theme-preview-item" data-theme="light" onclick="previewTheme('light')" title="Light Theme">
                                <div class="theme-color" style="background: linear-gradient(135deg, #6B4E71 0%, #D4A574 100%);"></div>
                                <span>Light</span>
                            </div>
                            <div class="theme-preview-item" data-theme="dark" onclick="previewTheme('dark')" title="Dark Theme">
                                <div class="theme-color" style="background: linear-gradient(135deg, #8B5CF6 0%, #64748B 100%);"></div>
                                <span>Dark</span>
                            </div>
                            <div class="theme-preview-item" data-theme="material-blue" onclick="previewTheme('material-blue')" title="Material Blue">
                                <div class="theme-color" style="background: linear-gradient(135deg, #2196F3 0%, #FF9800 100%);"></div>
                                <span>Material</span>
                            </div>
                            <div class="theme-preview-item" data-theme="ocean-blue" onclick="previewTheme('ocean-blue')" title="Ocean Blue">
                                <div class="theme-color" style="background: linear-gradient(135deg, #0EA5E9 0%, #06B6D4 100%);"></div>
                                <span>Ocean</span>
                            </div>
                            <div class="theme-preview-item" data-theme="forest-green" onclick="previewTheme('forest-green')" title="Forest Green">
                                <div class="theme-color" style="background: linear-gradient(135deg, #059669 0%, #84CC16 100%);"></div>
                                <span>Forest</span>
                            </div>
                            <div class="theme-preview-item" data-theme="sunset-orange" onclick="previewTheme('sunset-orange')" title="Sunset Orange">
                                <div class="theme-color" style="background: linear-gradient(135deg, #F97316 0%, #F59E0B 100%);"></div>
                                <span>Sunset</span>
                            </div>
                            <div class="theme-preview-item" data-theme="royal-purple" onclick="previewTheme('royal-purple')" title="Royal Purple">
                                <div class="theme-color" style="background: linear-gradient(135deg, #7C3AED 0%, #EC4899 100%);"></div>
                                <span>Royal</span>
                            </div>
                            <div class="theme-preview-item" data-theme="rose-pink" onclick="previewTheme('rose-pink')" title="Rose Pink">
                                <div class="theme-color" style="background: linear-gradient(135deg, #E11D48 0%, #EC4899 100%);"></div>
                                <span>Rose</span>
                            </div>
                            <div class="theme-preview-item" data-theme="slate-gray" onclick="previewTheme('slate-gray')" title="Slate Gray">
                                <div class="theme-color" style="background: linear-gradient(135deg, #475569 0%, #0EA5E9 100%);"></div>
                                <span>Slate</span>
                            </div>
                            <div class="theme-preview-item" data-theme="emerald-green" onclick="previewTheme('emerald-green')" title="Emerald Green">
                                <div class="theme-color" style="background: linear-gradient(135deg, #10B981 0%, #14B8A6 100%);"></div>
                                <span>Emerald</span>
                            </div>
                            <div class="theme-preview-item" data-theme="indigo-blue" onclick="previewTheme('indigo-blue')" title="Indigo Blue">
                                <div class="theme-color" style="background: linear-gradient(135deg, #4F46E5 0%, #8B5CF6 100%);"></div>
                                <span>Indigo</span>
                            </div>
                            <div class="theme-preview-item" data-theme="amber-gold" onclick="previewTheme('amber-gold')" title="Amber Gold">
                                <div class="theme-color" style="background: linear-gradient(135deg, #D97706 0%, #FCD34D 100%);"></div>
                                <span>Amber</span>
                            </div>
                            <div class="theme-preview-item" data-theme="teal-cyan" onclick="previewTheme('teal-cyan')" title="Teal Cyan">
                                <div class="theme-color" style="background: linear-gradient(135deg, #14B8A6 0%, #06B6D4 100%);"></div>
                                <span>Teal</span>
                            </div>
                            <div class="theme-preview-item" data-theme="crimson-red" onclick="previewTheme('crimson-red')" title="Crimson Red">
                                <div class="theme-color" style="background: linear-gradient(135deg, #DC2626 0%, #F97316 100%);"></div>
                                <span>Crimson</span>
                            </div>
                            <div class="theme-preview-item" data-theme="midnight-blue" onclick="previewTheme('midnight-blue')" title="Midnight Blue">
                                <div class="theme-color" style="background: linear-gradient(135deg, #1E40AF 0%, #6366F1 100%);"></div>
                                <span>Midnight</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Data Management -->
            <section class="card">
                <div class="card-header">
                    <h2 class="card-title">Data Management</h2>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <h3 style="margin-bottom: 16px;">Export Data</h3>
                        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                            <button class="btn btn-outline" onclick="exportAllData()">Export All Data</button>
                            <button class="btn btn-outline" onclick="exportCustomers()">Export Customers</button>
                            <button class="btn btn-outline" onclick="exportProducts()">Export Products</button>
                            <button class="btn btn-outline" onclick="exportInvoices()">Export Invoices</button>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 24px;">
                        <h3 style="margin-bottom: 16px; color: var(--color-error);">Danger Zone</h3>
                        <button class="btn btn-danger" onclick="clearAllData()">Clear All Data</button>
                        <p class="form-help" style="color: var(--color-error);">This will permanently delete all customers, products, and invoices. This action cannot be undone.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Cloth Billing App. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <script src="js/settings.js"></script>
</body>
</html>


